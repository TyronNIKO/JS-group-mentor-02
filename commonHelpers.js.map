{"version":3,"file":"commonHelpers.js","sources":["../src/js/localstorage.js","../src/js/render.js","../src/main.js"],"sourcesContent":["export function getFromLS(key) {\n  return JSON.parse(localStorage.getItem(key));\n}\n\nexport function setToLS(key, value) {\n  localStorage.setItem(key, JSON.stringify(value));\n}\n","import { getFromLS } from './localstorage.js';\n\nexport function createLiEl({ text, id }) {\n  return `<li id=\"${id}\" class =\"task-list-item\">${text}<button type=\"button\">X</button></li>`;\n}\nexport function createMarkup(array) {\n  return array.map(createLiEl).join('');\n}\nexport function winMarcup(container, key) {\n  const arrTask = getFromLS(key);\n  if (!arrTask) return;\n  container.innerHTML = createMarkup(arrTask);\n}\n","import { nanoid } from 'nanoid';\nimport { getFromLS, setToLS } from './js/localstorage.js';\nimport { createLiEl, winMarcup } from './js/render.js';\n\n//TODO-1\n// Напишіть логіку обробнику подій по сабміту\n// При сабміті треба у змінну записувати значення поля інпута\n// Повинна бути перевірка на порожнє поле.\nconst formEl = document.querySelector('#task-form');\nconst ulEl = document.querySelector('#task-list');\nconst localStorageKey = 'task-key';\n\nformEl.addEventListener('submit', fooSubmit);\n\nfunction fooSubmit(e) {\n  e.preventDefault();\n  const inputValue = e.target.elements.taskName.value.trim();\n  if (!inputValue) {\n    return;\n  }\n  console.log(inputValue);\n  const newId = nanoid(); //=> \"V1StGXR8_Z5jdHi6B-myT\"\n\n  ulEl.insertAdjacentHTML(\n    'beforeend',\n    createLiEl({ text: inputValue, id: newId })\n  );\n  addTask(inputValue, newId);\n  e.target.reset();\n}\n//TODO-2\n// Напишіть логіку яка з сабміта буде брати значення поля інпут\n// Генерувати елемент списку LI  з текстом і кнопкою Х, у майбутньому це буде кнопка видалення таски\n\n//TODO-3\n// Написати функцію, яка при сабміті буде зберігати данні в сховище, в сховище повинні додаватись таски, а не перезаписуватись існуюча\n\nfunction addTask(inputValue, id) {\n  const arrTask = getFromLS(localStorageKey) || [];\n  const obj = { id: id, text: inputValue };\n  arrTask.push(obj);\n  setToLS(localStorageKey, arrTask);\n}\n\n//TODO-4\n//Відформатуйте код таким чином, щоб данні в сховищі зберігались у вигляді об'єкта { id: value, text: value}, розмітка додавалась з айдішніком на елемент списку li, айдішнік генерувати з допомогою бібліотеки nanoid, її треба встановити\n\n//TODO-4\n// Написати функцію, яка буде при завантаженні сторінки відмальовувати розмітку беручи данні з ЛС\nwinMarcup(ulEl, localStorageKey);\n\n//TODO-5\n//Створити логіку видалення елементів з сховища та розмітки\nulEl.addEventListener('click', e => {\n  if (!e.target.closest('button')) return;\n  const li = e.target.closest('li');\n  const arrTask = getFromLS(localStorageKey);\n  if (!arrTask) return;\n  const newArr = arrTask.filter(({ id }) => id !== li.id);\n  setToLS(localStorageKey, newArr);\n  li.remove();\n});\n"],"names":["getFromLS","key","setToLS","value","createLiEl","text","id","createMarkup","array","winMarcup","container","arrTask","formEl","ulEl","localStorageKey","fooSubmit","inputValue","newId","nanoid","addTask","obj","li","newArr"],"mappings":"svBAAO,SAASA,EAAUC,EAAK,CAC7B,OAAO,KAAK,MAAM,aAAa,QAAQA,CAAG,CAAC,CAC7C,CAEO,SAASC,EAAQD,EAAKE,EAAO,CAClC,aAAa,QAAQF,EAAK,KAAK,UAAUE,CAAK,CAAC,CACjD,CCJO,SAASC,EAAW,CAAE,KAAAC,EAAM,GAAAC,GAAM,CACvC,MAAO,WAAWA,CAAE,6BAA6BD,CAAI,uCACvD,CACO,SAASE,EAAaC,EAAO,CAClC,OAAOA,EAAM,IAAIJ,CAAU,EAAE,KAAK,EAAE,CACtC,CACO,SAASK,EAAUC,EAAWT,EAAK,CACxC,MAAMU,EAAUX,EAAUC,CAAG,EACxBU,IACLD,EAAU,UAAYH,EAAaI,CAAO,EAC5C,CCJA,MAAMC,EAAS,SAAS,cAAc,YAAY,EAC5CC,EAAO,SAAS,cAAc,YAAY,EAC1CC,EAAkB,WAExBF,EAAO,iBAAiB,SAAUG,CAAS,EAE3C,SAASA,EAAU,EAAG,CACpB,EAAE,eAAc,EAChB,MAAMC,EAAa,EAAE,OAAO,SAAS,SAAS,MAAM,OACpD,GAAI,CAACA,EACH,OAEF,QAAQ,IAAIA,CAAU,EACtB,MAAMC,EAAQC,IAEdL,EAAK,mBACH,YACAT,EAAW,CAAE,KAAMY,EAAY,GAAIC,CAAK,CAAE,CAC9C,EACEE,EAAQH,EAAYC,CAAK,EACzB,EAAE,OAAO,OACX,CAQA,SAASE,EAAQH,EAAYV,EAAI,CAC/B,MAAMK,EAAUX,EAAUc,CAAe,GAAK,CAAA,EACxCM,EAAM,CAAE,GAAId,EAAI,KAAMU,CAAU,EACtCL,EAAQ,KAAKS,CAAG,EAChBlB,EAAQY,EAAiBH,CAAO,CAClC,CAOAF,EAAUI,EAAMC,CAAe,EAI/BD,EAAK,iBAAiB,QAAS,GAAK,CAClC,GAAI,CAAC,EAAE,OAAO,QAAQ,QAAQ,EAAG,OACjC,MAAMQ,EAAK,EAAE,OAAO,QAAQ,IAAI,EAC1BV,EAAUX,EAAUc,CAAe,EACzC,GAAI,CAACH,EAAS,OACd,MAAMW,EAASX,EAAQ,OAAO,CAAC,CAAE,GAAAL,CAAE,IAAOA,IAAOe,EAAG,EAAE,EACtDnB,EAAQY,EAAiBQ,CAAM,EAC/BD,EAAG,OAAM,CACX,CAAC"}